(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{1004:function(e,t){},1006:function(e,t){},1044:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(13),o=n.n(s),c=n(262),i=n(14),l=n(15),u=n(12),d=n(1095),h=n(1091),m=n(1096),j=n(1098),b=n(21),v=n(1097);var f,p,g=n(2);!function(e){e[e.showEmotes=0]="showEmotes",e[e.showName=1]="showName",e[e.showTimestamp=2]="showTimestamp",e[e.twitchChatMode=3]="twitchChatMode",e[e.newOnBottom=4]="newOnBottom"}(p||(p={}));var O=new URL(window.location.href),x={state:{queryClient:new v.a,apiBaseUrl:(null!==(f=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_BASE_URL)&&void 0!==f?f:window.location.protocol+"//"+window.location.host==="http://localhost:3000")?"http://localhost:8025":window.location.protocol+"//"+window.location.host,settings:{showEmotes:{displayName:"Show Emotes",value:!0},showName:{displayName:"Show Name",value:!0},showTimestamp:{displayName:"Show Timestamp",value:!0},twitchChatMode:{displayName:"Twitch Chat Mode",value:!1},newOnBottom:{displayName:"Newest messages on bottom",value:!1}},currentChannel:O.searchParams.get("channel"),currentUsername:O.searchParams.get("username"),showSwagger:O.searchParams.has("swagger"),error:!1},setState:function(e){},setCurrents:function(){},setSettings:function(e){},setShowSwagger:function(e){}},w=Object(a.createContext)(x),y=w.Provider,C=function(e){var t=e.children,n=function(e,t){var n=Object(a.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(a){return console.log(a),c(t),t}})),r=Object(b.a)(n,2),s=r[0],o=r[1],c=function(t){try{var n=t instanceof Function?t(s):t;o(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(a){console.log(a)}},i=s;return"object"===typeof t&&(i=Object(u.a)(Object(u.a)({},t),s)),[i,c]}("justlog:settings",x.state.settings),r=Object(b.a)(n,2),s=r[0],o=r[1],c=Object(a.useState)(Object(u.a)(Object(u.a)({},x.state),{},{settings:s})),i=Object(b.a)(c,2),l=i[0],d=i[1];return Object(g.jsx)(y,{value:{state:l,setState:d,setSettings:function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var a=n[t];"undefined"===typeof x.state.settings[a]&&delete e[a]}l.queryClient.removeQueries("log"),o(e),d(Object(u.a)(Object(u.a)({},l),{},{settings:e}))},setCurrents:function(){var e,t,n,a,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r=null!==(e=null===(t=r)||void 0===t?void 0:t.toLowerCase().trim())&&void 0!==e?e:null,s=null!==(n=null===(a=s)||void 0===a?void 0:a.toLowerCase().trim())&&void 0!==n?n:null,d(Object(u.a)(Object(u.a)({},l),{},{currentChannel:r,currentUsername:s,error:!1}));var o=new URL(window.location.href);r&&o.searchParams.set("channel",r),s&&o.searchParams.set("username",s),window.history.replaceState({},"justlog",o.toString())},setShowSwagger:function(e){var t=new URL(window.location.href);e?t.searchParams.set("swagger",""):t.searchParams.delete("swagger"),window.history.replaceState({},"justlog",t.toString()),d(Object(u.a)(Object(u.a)({},l),{},{showSwagger:e}))}},children:t})},S={staleTime:5e4};var N,L,E=n(287),k=n.n(E),P=n(1083),U=n(263),M=(n(1027),l.a.div(N||(N=Object(i.a)(["\n\n"]))));function T(){var e=Object(a.useContext)(w),t=e.state,n=e.setShowSwagger;return Object(g.jsxs)(M,{children:[Object(g.jsx)(P.a,{"aria-controls":"docs","aria-haspopup":"true",onClick:function(){n(!t.showSwagger)},size:"small",color:t.showSwagger?"primary":"default",children:Object(g.jsx)(k.a,{})}),Object(g.jsx)(R,{show:t.showSwagger})]})}var z=l.a.div(L||(L=Object(i.a)(["\n    position: absolute;\n    top: 0;\n    background: var(--bg);\n    left: 0;\n    right: 0;\n    margin-top: 90px;\n    z-index: 999;\n    padding-bottom: 90px;\n\n    .swagger-ui {\n        background: var(--bg);\n        \n        .scheme-container {\n            background: var(--bg-bright);\n        }\n    }\n"])));function R(e){var t=e.show,n=Object(a.useContext)(w).state,r=new URL(n.apiBaseUrl);return o.a.createPortal(Object(g.jsx)(z,{style:{display:t?"block":"none"},children:Object(g.jsx)(U.a,{url:"/swagger.json",requestInterceptor:function(e){if(e.url.includes("swagger.json"))return e;var t=new URL(e.url);return t.host=r.host,t.protocol=r.protocol,t.port=r.port,e.url=t.toString(),e}})}),document.body)}var D,H,_,B=n(115),F=n(1099),I=n(293),Y=n(1086),A=n(1087),W=n(1088),K=l.a.div(D||(D=Object(i.a)(["\n\t\n"])));function V(){for(var e=Object(a.useContext)(w),t=e.state,n=e.setSettings,r=Object(a.useState)(null),s=Object(b.a)(r,2),o=s[0],c=s[1],i=[],l=function(){var e=Object(b.a)(h[d],2),a=e[0],r=e[1];i.push(Object(g.jsxs)(F.a,{onClick:function(){return function(e,a){var r=Object(u.a)(Object(u.a)({},a),{},{value:!a.value});n(Object(u.a)(Object(u.a)({},t.settings),{},Object(B.a)({},e,r)))}(a,r)},children:[r.value?Object(g.jsx)(Y.a,{}):Object(g.jsx)(A.a,{}),"\xa0\xa0",r.displayName]},a))},d=0,h=Object.entries(t.settings);d<h.length;d++)l();return Object(g.jsxs)(K,{children:[Object(g.jsx)(P.a,{"aria-controls":"settings","aria-haspopup":"true",onClick:function(e){c(e.currentTarget)},size:"small",children:Object(g.jsx)(W.a,{})}),Object(g.jsx)(I.a,{id:"settings",anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:function(){c(null)},children:i})]})}var q=l.a.form(H||(H=Object(i.a)(["\n    display: inline-flex;\n    align-items: center;\n    padding: 15px;\n    background: var(--bg-bright);\n    border-bottom-left-radius: 3px;\n    border-bottom-right-radius: 3px;\n\tmargin: 0 auto;\n    z-index: 99;\n\n    > * {\n        margin-right: 15px !important;    \n\n        &:last-child {\n            margin-right: 0 !important;\n        }\n    }\n"]))),J=l.a.div(_||(_=Object(i.a)(["\n    text-align: center;\n"])));function Q(){var e=Object(a.useContext)(w),t=e.setCurrents,n=e.state,r=Object(c.b)(),s=function(){var e=Object(a.useContext)(w).state,t=Object(j.a)("channels",(function(){var t=new URL("".concat(e.apiBaseUrl,"/channels"));return fetch(t.toString()).then((function(e){if(e.ok)return e;throw Error(e.statusText)})).then((function(e){return e.json()})).then((function(e){return e.channels}))}),{refetchOnWindowFocus:!1,refetchOnReconnect:!1}),n=t.data;return null!==n&&void 0!==n?n:[]}();return Object(g.jsx)(J,{children:Object(g.jsxs)(q,{onSubmit:function(e){if(e.preventDefault(),e.target instanceof HTMLFormElement){var n=new FormData(e.target),a=n.get("channel"),s=n.get("username");r.invalidateQueries(["log",{channel:null===a||void 0===a?void 0:a.toLowerCase(),username:null===s||void 0===s?void 0:s.toLowerCase()}]),t(a,s)}},action:"none",children:[Object(g.jsx)(m.a,{id:"autocomplete-channels",options:s.map((function(e){return e.name})),style:{width:225},defaultValue:n.currentChannel,getOptionLabel:function(e){return e},clearOnBlur:!1,renderInput:function(e){return Object(g.jsx)(d.a,Object(u.a)(Object(u.a)({},e),{},{name:"channel",label:"channel",variant:"filled",autoFocus:null===n.currentChannel}))}}),Object(g.jsx)(d.a,{error:n.error,name:"username",label:"username",variant:"filled",autoComplete:"off",defaultValue:n.currentUsername,autoFocus:null!==n.currentChannel&&null===n.currentUsername}),Object(g.jsx)(h.a,{variant:"contained",color:"primary",size:"large",type:"submit",children:"load"}),Object(g.jsx)(V,{}),Object(g.jsx)(T,{})]})})}var G=n(289),X=n(290),Z=n(291),$=n(295),ee=n(296),te=function(e){Object(Z.a)(n,e);var t=Object($.a)(n);function n(){return Object(X.a)(this,n),t.apply(this,arguments)}return Object(G.a)(n)}(Object(ee.a)(Error));function ne(e){return e.startsWith("id:")}function ae(e){return e.replace("id:","")}function re(){return Object(g.jsxs)("svg",{className:"txt",height:32,viewBox:"0 0 32 32",width:32,children:[Object(g.jsx)("title",{}),Object(g.jsx)("path",{d:"M21 26v2.003A1.995 1.995 0 0119.003 30H3.997A2 2 0 012 27.993V5.007C2 3.898 2.9 3 4.009 3H14v6.002c0 1.111.898 1.998 2.006 1.998H21v2h-8.993A3.003 3.003 0 009 15.999V23A2.996 2.996 0 0012.007 26H21zM15 3v5.997c0 .554.451 1.003.99 1.003H21l-6-7zm-3.005 11C10.893 14 10 14.9 10 15.992v7.016A2 2 0 0011.995 25h17.01C30.107 25 31 24.1 31 23.008v-7.016A2 2 0 0029.005 14h-17.01zM14 17v6h1v-6h2v-1h-5v1h2zm6 2.5L18 16h1l1.5 2.625L22 16h1l-2 3.5 2 3.5h-1l-1.5-2.625L19 23h-1l2-3.5zm6-2.5v6h1v-6h2v-1h-5v1h2z",fill:"#929292",fillRule:"evenodd"})]})}var se=n(1100),oe=n(1092),ce=n(18),ie=n(126),le=n.n(ie);function ue(e,t,n,r){var s=Object(a.useContext)(w).state,o=Object(j.a)(["log",{channel:e,username:t,year:n,month:r}],(function(){if(e&&t){var a=ne(e),o=ne(t);a&&(e=ae(e)),o&&(t=ae(t));var c=new URL("".concat(s.apiBaseUrl,"/channel").concat(a?"id":"","/").concat(e,"/user").concat(o?"id":"","/").concat(t,"/").concat(n,"/").concat(r));return c.searchParams.append("json","1"),s.settings.newOnBottom.value||c.searchParams.append("reverse","1"),fetch(c.toString()).then((function(e){if(e.ok)return e;throw Error(e.statusText)})).then((function(e){return e.json()})).then((function(e){var t,n=[],a=Object(ce.a)(e.messages);try{for(a.s();!(t=a.n()).done;){var r=t.value;n.push(Object(u.a)(Object(u.a)({},r),{},{timestamp:new Date(r.timestamp),emotes:de(r.text,r.tags.emotes)}))}}catch(s){a.e(s)}finally{a.f()}return n}))}return[]}),{refetchOnWindowFocus:!1,refetchOnReconnect:!1}),c=o.data;return null!==c&&void 0!==c?c:[]}function de(e,t){var n=[];if(!t)return n;var a,r=t.split("/"),s=Object(ce.a)(r);try{for(s.s();!(a=s.n()).done;){var o,c=a.value.split(":"),i=Object(b.a)(c,2),l=i[0],u=i[1].split(","),d=Object(ce.a)(u);try{for(d.s();!(o=d.n()).done;){var h=o.value.split("-"),m=Object(b.a)(h,2),j=m[0],v=m[1],f=Number(j),p=Number(v)+1;n.push({id:l,startIndex:f,endIndex:p,code:le.a.substr(e,f,p-f+1)})}}catch(g){d.e(g)}finally{d.f()}}}catch(g){s.e(g)}finally{s.f()}return n}var he=n(36),me=n.n(he),je=n(45);function be(e){var t=[].concat(Object(je.a)(function(e){var t=Object(j.a)(["bttv:channel",{channelId:e}],(function(){return""===e?Promise.resolve({sharedEmotes:[],channelEmotes:[]}):fetch("https://api.betterttv.net/3/cached/users/twitch/".concat(e)).then((function(e){return e.json()}))}),S),n=t.isLoading,a=t.error,r=t.data;if(n)return[];if(a)return console.error(a),[];for(var s=[],o=0,c=[].concat(Object(je.a)(null!==(i=null===r||void 0===r?void 0:r.channelEmotes)&&void 0!==i?i:[]),Object(je.a)(null!==(l=null===r||void 0===r?void 0:r.sharedEmotes)&&void 0!==l?l:[]));o<c.length;o++){var i,l,u=c[o];s.push({id:u.id,code:u.code,urls:{small:"https://cdn.betterttv.net/emote/".concat(u.id,"/1x"),medium:"https://cdn.betterttv.net/emote/".concat(u.id,"/2x"),big:"https://cdn.betterttv.net/emote/".concat(u.id,"/3x")}})}return s}(e)),Object(je.a)(function(e){var t=Object(j.a)(["ffz:channel",{channelId:e}],(function(){return""===e?Promise.resolve({sets:{}}):fetch("https://api.frankerfacez.com/v1/room/id/".concat(e)).then((function(e){return e.json()}))}),S),n=t.isLoading,a=t.error,r=t.data;if(n||null===r||void 0===r||!r.sets)return[];if(a)return console.error(a),[];var s,o=[],c=Object(ce.a)(Object.values(r.sets));try{for(c.s();!(s=c.n()).done;){var i,l=s.value,u=Object(ce.a)(l.emoticons);try{for(u.s();!(i=u.n()).done;){var d=i.value;o.push({id:String(d.id),code:d.name,urls:{small:d.urls[1],medium:d.urls[2],big:d.urls[4]}})}}catch(h){u.e(h)}finally{u.f()}}}catch(h){c.e(h)}finally{c.f()}return o}(e)),Object(je.a)(function(e){var t=Object(j.a)(["7tv:channel",{channelId:e}],(function(){return""===e?Promise.resolve([]):fetch("https://api.7tv.app/v2/users/".concat(e,"/emotes")).then((function(e){return e.ok?e.json():Promise.reject(e.statusText)}))}),S),n=t.isLoading,a=t.error,r=t.data;if(n)return[];if(a)return console.error(a),[];var s,o=[],c=Object(ce.a)(null!==r&&void 0!==r?r:[]);try{for(c.s();!(s=c.n()).done;){var i=s.value;o.push({id:i.id,code:i.name,urls:{small:"https://cdn.7tv.app/emote/".concat(i.id,"/1x"),medium:"https://cdn.7tv.app/emote/".concat(i.id,"/2x"),big:"https://cdn.7tv.app/emote/".concat(i.id,"/3x")}})}}catch(l){c.e(l)}finally{c.f()}return o}(e)),Object(je.a)(function(){var e=Object(j.a)("bttv:global",(function(){return fetch("https://api.betterttv.net/3/cached/emotes/global").then((function(e){return e.json()}))}),S),t=e.isLoading,n=e.error,a=e.data;if(t||!a)return[];if(n)return console.error(n),[];var r,s=[],o=Object(ce.a)(a);try{for(o.s();!(r=o.n()).done;){var c=r.value;s.push({id:c.id,code:c.code,urls:{small:"https://cdn.betterttv.net/emote/".concat(c.id,"/1x"),medium:"https://cdn.betterttv.net/emote/".concat(c.id,"/2x"),big:"https://cdn.betterttv.net/emote/".concat(c.id,"/3x")}})}}catch(i){o.e(i)}finally{o.f()}return s}()),Object(je.a)(function(){var e=Object(j.a)("ffz:global",(function(){return fetch("https://api.frankerfacez.com/v1/set/global").then((function(e){return e.json()}))}),S),t=e.isLoading,n=e.error,a=e.data;if(t||null===a||void 0===a||!a.sets)return[];if(n)return console.error(n),[];var r,s=[],o=Object(ce.a)(Object.values(a.sets));try{for(o.s();!(r=o.n()).done;){var c,i=r.value,l=Object(ce.a)(i.emoticons);try{for(l.s();!(c=l.n()).done;){var u=c.value;s.push({id:String(u.id),code:u.name,urls:{small:u.urls[1],medium:u.urls[2],big:u.urls[4]}})}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return s}()),Object(je.a)(function(){var e=Object(j.a)("7tv:global",(function(){return fetch("https://api.7tv.app/v2/emotes/global").then((function(e){return e.ok?e.json():Promise.reject(e.statusText)}))}),S),t=e.isLoading,n=e.error,a=e.data;if(t||!a)return[];if(n)return console.error(n),[];var r,s=[],o=Object(ce.a)(null!==a&&void 0!==a?a:[]);try{for(o.s();!(r=o.n()).done;){var c=r.value;s.push({id:c.id,code:c.name,urls:{small:"https://cdn.7tv.app/emote/".concat(c.id,"/1x"),medium:"https://cdn.7tv.app/emote/".concat(c.id,"/2x"),big:"https://cdn.7tv.app/emote/".concat(c.id,"/3x")}})}}catch(i){o.e(i)}finally{o.f()}return s}()));return t}var ve,fe,pe,ge=n(292),Oe=n.n(ge),xe=l.a.div(ve||(ve=Object(i.a)(["\n\n\ta {\n\t\tmargin: 0 2px;\n\t\tcolor: var(--theme2);\n\t\ttext-decoration: none;\n\n\t\t&:hover, &:active, &:focus {\n\t\t\tcolor: var(--theme2-bright);\n\t\t}\n\t}\n"]))),we=l.a.img(fe||(fe=Object(i.a)(["\n\tmax-height: 18px;\n\tmargin: 0 2px;\n\tmargin-bottom: -2px;\n\twidth: auto;\n"])));function ye(e){var t,n=e.message,r=e.thirdPartyEmotes,s=Object(a.useContext)(w).state,o=[],c="",i=n.text,l="";n.tags["system-msg"]&&(i=i.replace(n.tags["system-msg"]+" ",""),l="".concat(n.tags["system-msg"]," "));for(var u=le()(i),d=0;d<=u.length;d++){var h=u[d];if(t=!1,s.settings.showEmotes.value){var m,j=Object(ce.a)(n.emotes);try{for(j.s();!(m=j.n()).done;){var b=m.value;if(b.startIndex===d){t=!0,o.push(Object(g.jsx)(we,{className:"emote",alt:b.code,src:"https://static-cdn.jtvnw.net/emoticons/v2/".concat(b.id,"/default/dark/1.0")},d)),d+=b.endIndex-b.startIndex-1;break}}}catch(x){j.e(x)}finally{j.f()}}if(!t){if(" "!==h&&d!==u.length){c+=h;continue}var v,f=!1,p=Object(ce.a)(r);try{for(p.s();!(v=p.n()).done;){var O=v.value;if(c.trim()===O.code){o.push(Object(g.jsx)(we,{className:"emote",alt:O.code,src:O.urls.small},d)),f=!0,c="";break}}}catch(x){p.e(x)}finally{p.f()}f||(o.push(Object(g.jsx)(Oe.a,{componentDecorator:function(e,t,n){return Object(g.jsx)("a",{target:"__blank",href:e,children:t},n)},children:c},d)),c="")," "!==h||s.settings.twitchChatMode.value?o.push(h):o.push(Object(g.jsx)(g.Fragment,{children:"\xa0"}))}}return Object(g.jsxs)(xe,{className:"message",children:[l,o]})}var Ce=l.a.div.attrs((function(e){return{style:{color:e.color}}}))(pe||(pe=Object(i.a)(["\n\tdisplay: inline;\n"])));function Se(e){var t=e.displayName,n=e.color,a=""!==n?n:"grey";return Object(g.jsxs)(Ce,{color:a,className:"user",children:[t,":"]})}var Ne,Le=n(127),Ee=n.n(Le),ke=n(128),Pe=n.n(ke);me.a.extend(Ee.a),me.a.extend(Pe.a),me.a.tz.guess();var Ue=l.a.li(Ne||(Ne=Object(i.a)(["\n\tdisplay: flex;\n\talign-items: flex-start;\n    margin-bottom: 1px;\n\n    .timestamp {\n        color: var(--text-dark);\n        user-select: none;\n        font-family: monospace;\n        white-space: nowrap;\n        line-height: 1.1rem;\n    }\n\n    .user {\n        margin-left: 5px;\n        user-select: none;\n        font-weight: bold;\n        line-height: 1.1rem;\n    }\n\n    .message {\n        margin-left: 5px;\n        line-height: 1.1rem;\n    }\n"])));function Me(e){var t=e.message,n=Object(a.useContext)(w).state;return n.settings.showEmotes.value?Object(g.jsx)(Te,{message:t}):Object(g.jsxs)(Ue,{className:"logLine",children:[n.settings.showTimestamp.value&&Object(g.jsx)("span",{className:"timestamp",children:me()(t.timestamp).format("YYYY-MM-DD HH:mm:ss")}),n.settings.showName.value&&Object(g.jsx)(Se,{displayName:t.displayName,color:t.tags.color}),Object(g.jsx)(ye,{message:t,thirdPartyEmotes:[]})]})}function Te(e){var t=e.message,n=be(t.tags["room-id"]),r=Object(a.useContext)(w).state;return Object(g.jsxs)(Ue,{className:"logLine",children:[r.settings.showTimestamp.value&&Object(g.jsx)("span",{className:"timestamp",children:me()(t.timestamp).format("YYYY-MM-DD HH:mm:ss")}),r.settings.showName.value&&Object(g.jsx)(Se,{displayName:t.displayName,color:t.tags.color}),Object(g.jsx)(ye,{message:t,thirdPartyEmotes:n})]})}var ze,Re,De=n(294),He=l.a.ul(ze||(ze=Object(i.a)(["\n    padding: 0;\n    margin: 0;\n    position: relative;\n\n    .search {\n        position: absolute;\n        top: -52px;\n        width: 320px;\n        left: 0;\n    }\n\n    .logLine {\n        white-space: nowrap;\n    }\n\n    .list {\n        scrollbar-color: dark;\n    }\n"])));function _e(e){var t,n,r=e.year,s=e.month,o=Object(a.useContext)(w),c=o.state,i=o.setState,l=Object(a.useState)(""),h=Object(b.a)(l,2),m=h[0],j=h[1],v=ue(null!==(t=c.currentChannel)&&void 0!==t?t:"",null!==(n=c.currentUsername)&&void 0!==n?n:"",r,s).filter((function(e){return e.text.toLowerCase().includes(m.toLowerCase())})),f=Object(a.useRef)(null);return Object(a.useEffect)((function(){i(Object(u.a)(Object(u.a)({},c),{},{activeSearchField:f.current}))}),[]),Object(g.jsxs)(He,{onMouseEnter:function(){i(Object(u.a)(Object(u.a)({},c),{},{activeSearchField:f.current}))},children:[Object(g.jsx)(d.a,{className:"search",label:"Search",inputRef:f,onChange:function(e){return j(e.target.value)},size:"small",InputProps:{startAdornment:Object(g.jsx)(se.a,{position:"start",children:Object(g.jsx)(oe.a,{})})}}),Object(g.jsx)(De.a,{className:"list",height:600,itemCount:v.length,itemSize:20,width:"100%",children:function(e){var t=e.index,n=e.style;return Object(g.jsx)("div",{style:n,children:Object(g.jsx)(Me,{message:v[t]},v[t].id?v[t].id:t)})}})]})}me.a.extend(Ee.a),me.a.extend(Pe.a),me.a.tz.guess();var Be,Fe=l.a.li(Re||(Re=Object(i.a)(["\n\talign-items: flex-start;\n    margin-bottom: 1px;\n    padding: 5px 20px;\n\n    .timestamp {\n        color: var(--text-dark);\n        user-select: none;\n        font-family: monospace;\n        white-space: nowrap;\n        margin-right: 5px;\n        line-height: 1.1rem;\n    }\n\n    .user {\n        display: inline-block;\n        margin-right: 5px;\n        user-select: none;\n        font-weight: bold;\n        line-height: 1.1rem;\n    }\n\n    .message {\n        display: inline;\n        line-height: 20px;\n\n        a {\n            word-wrap: break-word;\n        }\n\n        .emote {\n            max-height: 28px;\n            margin: 0 2px;\n            margin-bottom: -10px;\n            width: auto;\n        }\n    }\n"])));function Ie(e){var t=e.message,n=Object(a.useContext)(w).state;return n.settings.showEmotes.value?Object(g.jsx)(Ye,{message:t}):Object(g.jsxs)(Fe,{className:"logLine",children:[n.settings.showTimestamp.value&&Object(g.jsx)("span",{className:"timestamp",children:me()(t.timestamp).format("YYYY-MM-DD HH:mm:ss")}),n.settings.showName.value&&Object(g.jsx)(Se,{displayName:t.displayName,color:t.tags.color}),Object(g.jsx)(ye,{message:t,thirdPartyEmotes:[]})]})}function Ye(e){var t=e.message,n=be(t.tags["room-id"]),r=Object(a.useContext)(w).state;return Object(g.jsxs)(Fe,{className:"logLine",children:[r.settings.showTimestamp.value&&Object(g.jsx)("span",{className:"timestamp",children:me()(t.timestamp).format("YYYY-MM-DD HH:mm:ss")}),r.settings.showName.value&&Object(g.jsx)(Se,{displayName:t.displayName,color:t.tags.color}),Object(g.jsx)(ye,{message:t,thirdPartyEmotes:n})]})}var Ae,We,Ke=l.a.ul(Be||(Be=Object(i.a)(["\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    width: 340px;\n"])));function Ve(e){var t,n,r=e.year,s=e.month,o=Object(a.useContext)(w).state,c=ue(null!==(t=o.currentChannel)&&void 0!==t?t:"",null!==(n=o.currentUsername)&&void 0!==n?n:"",r,s);return Object(g.jsx)(Ke,{children:c.map((function(e,t){return Object(g.jsx)(Ie,{message:e},e.id?e.id:t)}))})}var qe=l.a.div(Ae||(Ae=Object(i.a)(["\n    position: relative;\n    background: var(--bg-bright);\n    border-radius: 3px;\n    padding: 0.5rem;\n    margin-top: 3rem;\n\n    .txt {\n        position: absolute;\n        top: 5px;\n        right: 15px;\n        opacity: 0.9;\n        cursor: pointer;\n        z-index: 999;\n\n        &:hover {\n            opacity: 1;\n        }\n    }\n"])));function Je(e){var t=e.year,n=e.month,r=e.initialLoad,s=void 0!==r&&r,o=Object(a.useContext)(w).state,c=Object(a.useState)(s),i=Object(b.a)(c,2),l=i[0],u=i[1];if(!l)return Object(g.jsx)(qe,{children:Object(g.jsx)(Xe,{year:t,month:n,onLoad:function(){return u(!0)}})});var d="".concat(o.apiBaseUrl);return o.currentChannel&&ne(o.currentChannel)?d+="/channelid/".concat(ae(o.currentChannel)):d+="/channel/".concat(o.currentChannel),o.currentUsername&&ne(o.currentUsername)?d+="/userid/".concat(ae(o.currentUsername)):d+="/user/".concat(o.currentUsername),d+="/".concat(t,"/").concat(n,"?reverse"),Object(g.jsxs)(qe,{children:[Object(g.jsx)("a",{className:"txt",target:"__blank",href:d,rel:"noopener noreferrer",children:Object(g.jsx)(re,{})}),!o.settings.twitchChatMode.value&&Object(g.jsx)(_e,{year:t,month:n}),o.settings.twitchChatMode.value&&Object(g.jsx)(Ve,{year:t,month:n})]})}var Qe,Ge=l.a.div(We||(We=Object(i.a)(["\n\n"])));function Xe(e){var t=e.year,n=e.month,a=e.onLoad;return Object(g.jsx)(Ge,{children:Object(g.jsxs)(h.a,{variant:"contained",color:"primary",size:"large",onClick:a,children:["load ",t,"/",n]})})}var Ze,$e=l.a.div(Qe||(Qe=Object(i.a)(["\n    display: block;\n    font-weight: bold;\n    color: var(--danger);\n    font-size: 2rem;\n    text-align: center;\n    padding: 2rem;\n"])));function et(){return Object(g.jsx)($e,{children:"User or channel has opted out"})}var tt,nt=l.a.div(Ze||(Ze=Object(i.a)(["\n    color: white;\n    padding: 2rem;\n    padding-top: 0;\n    width: 100%;\n"])));function at(){var e=Object(a.useContext)(w).state,t=navigator.platform.toUpperCase().indexOf("MAC")>=0?"metaKey":"ctrlKey";Object(a.useEffect)((function(){var n=function(n){"f"===n.key&&n[t]&&!e.settings.twitchChatMode.value&&(n.preventDefault(),e.activeSearchField&&e.activeSearchField.focus())};return window.addEventListener("keydown",n),function(){return window.removeEventListener("keydown",n)}}),[e.activeSearchField,e.settings.twitchChatMode.value,t]);var n=function(e,t){var n,r=Object(a.useContext)(w),s=r.state,o=r.setState,c=Object(j.a)(["availableLogs",{channel:e,username:t}],(function(){if(!e||!t)return Promise.resolve([[],void 0]);var n=ne(e),a=ne(t);n&&(e=ae(e)),a&&(t=ae(t));var r=new URL("".concat(s.apiBaseUrl,"/list"));return r.searchParams.append("channel".concat(n?"id":""),e),r.searchParams.append("user".concat(a?"id":""),t),fetch(r.toString()).then((function(e){if(e.ok)return e;if(o(Object(u.a)(Object(u.a)({},s),{},{error:!0})),403===e.status)throw new te;throw Error(e.statusText)})).then((function(e){return e.json()})).then((function(e){return[e.availableLogs,void 0]})).catch((function(e){return[[],e]}))}),{refetchOnWindowFocus:!1,refetchOnReconnect:!1});return null!==(n=c.data)&&void 0!==n?n:[[],void 0]}(e.currentChannel,e.currentUsername),r=Object(b.a)(n,2),s=r[0];return r[1]instanceof te?Object(g.jsx)(et,{}):Object(g.jsx)(nt,{children:s.map((function(e,t){return Object(g.jsx)(Je,{year:e.year,month:e.month,initialLoad:0===t},"".concat(e.year,":").concat(e.month))}))})}var rt=l.a.div(tt||(tt=Object(i.a)(["\n\t\n"])));function st(){return Object(g.jsxs)(rt,{children:[Object(g.jsx)(Q,{}),Object(g.jsx)(at,{})]})}var ot=n(1093),ct=n(1094),it=Object(ot.a)({palette:{type:"dark"}});function lt(){var e=Object(a.useContext)(w).state;return Object(g.jsx)(c.a,{client:e.queryClient,children:Object(g.jsx)(st,{})})}o.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(C,{children:Object(g.jsx)(ct.a,{theme:it,children:Object(g.jsx)(lt,{})})})}),document.getElementById("root"))}},[[1044,1,2]]]);
//# sourceMappingURL=main.e48bf564.chunk.js.map